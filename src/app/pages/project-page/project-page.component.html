<div class="main-content-wrapper">
    <loading-circle-svg *ngIf="projectService.projects === undefined"></loading-circle-svg>

    <ng-template [ngIf]="project && project.name">
        <h2>{{ project.name }}</h2>
        <ul>
            <li *ngFor="let task of tasks">
                <p>{{ task.name }}</p>
            </li>
        </ul>
        <button class="create-task-button" *ngIf="!isAddingNewTask" (click)="isAddingNewTask = true">
            <span class="create-task-button-svg">
                <svg width="13" height="13"><path d="M6 6V.5a.5.5 0 0 1 1 0V6h5.5a.5.5 0 1 1 0 1H7v5.5a.5.5 0 1 1-1 0V7H.5a.5.5 0 0 1 0-1H6z" fill="currentColor" fill-rule="evenodd"></path></svg>
            </span>
            <span class="create-task-button-span">Add task</span>
        </button>
        <div class="creating-new-task" *ngIf="isAddingNewTask">
            <div class="creating-new-task__title-container">
                <div class="creating-new-task__title-placeholder" *ngIf="!newTaskTitle.length">e.g. Buy gift tomorrow at 6pm</div>
                <div class="creating-new-task__title" autofocus (input)="onChangeTaskTitle($event)" trim="blur" contenteditable spellcheck></div>
            </div>
            <textarea #descr class="creating-new-task__textarea" placeholder="Description"></textarea>
            <div class="creating-new-task__buttons">
                <button class="button" (click)="onAddTask(newTaskTitle, descr.value)" [disabled]="!isNewTaskTitleValid" [ngClass]="{'button--blocked' : !isNewTaskTitleValid}">Add task</button>
                <button class="button" (click)="isAddingNewTask = false; newTaskTitle = ''">Close</button>
            </div>
        </div>
    </ng-template>
</div>